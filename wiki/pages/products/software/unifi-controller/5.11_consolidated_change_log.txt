====== 5.11 UniFi Controller Consolidated Change Log ======
===== 5.11.52 =====
===Important notes===
Release stage: Release Candidate

UniFi Network controller 5.11.50 is the last planned stable release for UniFi Network controller 5.11 release branch. We do not plan to move forward with 5.11.52. Instead we are changing the focus to the 5.12 release branch as it contains support for hardware which is near public release.

===Bugfixes===

  * Fix FQDN support for Guest Control pre-authorization access on UDM series.
  * Fix static DNS on PPPoE WAN for UDM series.
  * Fix switch port overrides being reset on UDM firmware upgrade (reported HERE).
  * Fix 'Unknown Country' error during GeoIP filter provisioning on UDM series.

===== 5.11.50 =====
===Important notes===
Release stage: Stable

===Improvements===

  * Automatically enable Smart Queues after setup completes on UDM devices.

===== 5.11.48 =====
===Important notes===
Release stage: Release Candidate
===Improvements===

  * Update OUI table.

===Bugfixes===

  * Don't show filtered out UDM on device list.
  * Fix authentication failure tracking.
  * Fix invalid switch satisfaction scores.
  * Fix IPv6 firewall rule provisioning on UDM.

===== 5.11.47 =====
===Important notes===
Release stage: Stable

===Improvements===

  * Add historical Wi-Fi Experience data and RX/TX throughput for LCM on UDM-Pro.
  * Stop bundling Java with macOS package.*

*This means you will need to have an updated/current version of JRE 8 installed on the system.

===Bugfixes===

  * Fix bug during initial setup which may cause Remote Access to be unavailable for 15 minutes.
  * Fix untranslated country name in Speed Test modal.
  * Fix VLAN only network provisioning for controllers running on UDM (reported HERE).
  * Update certificates generated by controller to be compliant with new Apple rules.



===== 5.11.46 =====
===Important notes===
Release stage: Stable

===Improvements===

  * Exclude disabled devices from reported network health on dashboard.
  * Remove some beta/coming soon tags from features in UniFi Network controller.

===Bugfixes===

  * Fix initial setup wizard for UniFi Cloud Controllers.
  * Temporarily remove High Performance Devices feature from Auto-Optimize.

===== 5.11.45 =====
===Important notes===
Release stage: Release Candidate

===Improvements===

  * Exclude disabled devices from reported network health on dashboard.
  * Remove some beta/coming soon tags from features in UniFi Network controller.
  * Replace LTE experience score with data usage.

===Bugfixes===

  * Prevent U-LTE adoption via unsupported methods like UniFi Network mobile apps.
  * Temporarily remove High Performance Devices feature from Auto-Optimize.

===== 5.11.39 =====
===Important notes===
Release stage: Stable
Note: If you have any 'service dns forwarding options' configuration defined in config.gateway.json, it will overwrite the provisioning of statically defined name servers, leaving you with no DNS. Either remove the 'service dns forwarding options' portion of config.gateway.json, or add additional 'options' lines defining name servers, such as 'server=1.1.1.1', 'server=8.8.8.8', etc.

===Bugfixes===
  * Fix commit error for U-LTE failover on networks that have IPv6 enabled.
  * Fix issue where UDM devices may stop passing traffic over WAN and require a reboot. 
  * Fix issue where WAN may revert from static to DHCP.
  * Fix issue which may cause incomplete configuration on UDM after initial setup wizard completes.
  * Improve reliability of UDM provisioning. 

===== 5.11.38 =====
===Important notes===
Release stage: Release Candidate
Note: If you have any 'service dns forwarding options' configuration defined in config.gateway.json, it will overwrite the provisioning of statically defined name servers, leaving you with no DNS. Either remove the 'service dns forwarding options' portion of config.gateway.json, or add additional 'options' lines defining name servers, such as 'server=1.1.1.1', 'server=8.8.8.8', etc.

===Improvements===

  * Add warning and delete WAN2 network before U-LTE adoption.
  * Add missing translation key for SSH password to setup wizard.
  * Add UDM in AP filtering list on Clients list view
  * Improve wireless uplink detection in RadioAI.
  * Make encrypted cookie optional for the built-in Guest Portal.
  * Use the same size for USW and USG port icons.

===Bugfixes===

  * Fix and improve Device Fingerprint feature.
  * Fix external MongoDB startup issue.
  * Fix NPE for Download device info.
  * Fix sorting by IP in Past Connections list.
  * Fix UDM-B channel selection so 2.4GHz control is allowed. 
  * Fix WebRTC logs fetching.


===== 5.11.36 =====
===Important notes===
Release stage: Testing
Note: If you have any 'service dns forwarding options' configuration defined in config.gateway.json, it will overwrite the provisioning of statically defined name servers, leaving you with no DNS. Either remove the 'service dns forwarding options' portion of config.gateway.json, or add additional 'options' lines defining name servers, such as 'server=1.1.1.1', 'server=8.8.8.8', etc.

===Features===

  * Add DHCP Snooping toggle under site settings (Advanced Feature).
  * Show user avatar if available.
  * Switch port MAC filtering and fixes.
  * UDM - add port forwarding support for WAN2.
  * UDM firmware update check
  * Update experience value dynamically on topology nodes.

===Improvements===

  * Improve controller robustness.
  * Performance optimizations.

===Bugfixes===

  * Add missing migration path from 5.10.26.
  * Add syslog to remote logging option.
  * Fix adopt and upgrade process for USG devices on old firmware.
  * Fix and update Device Fingerprint feature.
  * Fix applying Site settings to mitigate unnecessary device provisioning. 
  * Fix DNS domain name validation so that it's case-insensitive.
  * Fix missing icons for floorplan virtual devices.
  * Fix retry rate graph on the dashboard.
  * Fix switch port customization bug caused by missing migration in earlier releases.
  * Fix USG port validation so that both WAN and LAN always exist. 
  * Further fixes for wireless uplink isolated state misjudgment.
  * Increase allowance for upgrade time on nanoHD/IW-HD/UDM-B/FlexHD to fix false disconnect events.
  * Restore fixed IP value in the Client History list.


===== 5.11.34 =====
===Important notes===
Release stage: Testing
Note: If you have any 'service dns forwarding options' configuration defined in config.gateway.json, it will overwrite the provisioning of statically defined name servers, leaving you with no DNS. Either remove the 'service dns forwarding options' portion of config.gateway.json, or add additional 'options' lines defining name servers, such as 'server=1.1.1.1', 'server=8.8.8.8', etc.

===Features===

  * Add high DNS latency anomaly.
  * Add info about GeoIP and IPS to System Config page.
  * Add WiFi Experience graph to all APs.

===Improvements===

  * Allow Insights -> Switch Stats for UDM.
  * Blinking port tooltip on UDM USW property panel.
  * Blinking tooltip in Insights/Switch Stats.
  * Cleanup statistics preferred timezone.
  * DNS improvements for USG.
  * Loosen validation for guest portal redirect URL.
  * UDM - Add check if honeypot IP overlaps gateway IP.
  * UDM - Allow creating honeypots when multiple VLANs present.
  * UDM - Realtime client and device disconnect detection.

===Bugfixes===

  * Fix Auto Channels for UDM.
  * Fix incorrect default log level for controller when in default state or system.properties is empty.
  * Fix layout issue in property panel for devices without a temperature sensor.
  * Fix LCM provisioning when settings changed.
  * Fix UDM-B Isolated state after factory reset.
  * Fix User Groups and Wireless Uplink support for UDM-B and UAP-FlexHD.
  * Fix wireless uplink isolated state misjudgment.




===== 5.11.31 =====
===Important notes===
Release stage: Testing

===Features===

  * Add support for batch Device Fingerprint icon management.
  * Add support for UAP-FlexHD

===Improvements===

  * Allow U-LTE Network config.
  * Auto open the property panel when a batch item is selected.
  * Change Map default to topology view.
  * Display voucher notes on the Guests list.
  * Fingerprint icon - Pre-select manufacturer by vendor ID.
  * IPS Dashboard dark mode and other improvements.
  * Remove default map and show upload floorplan button instead.
  * Remove release notes from UI.
  * Temporarily revert New Settings.*
  * UDM - Add validation for Honeypot IP to ensure it's within the selected network.
  * UDM - Allow firewall rule filtering by MAC address.
  * UDM - Initial improvements to UI responsiveness.
  * UDM - Separate chains for firewall rules.
  * USG ARP cache provisioning improvements.

*Note that with New Settings reverted some settings will be (temporarily) missing as they weren't developed for both classic mode and New Settings.

===Bugfixes===

  * Fix WLAN Schedule bug with multiple blocks on the same day.
  * Fix incorrect number of clients on client list in device property panel.
  * Fix issue preventing the scatter graph from working correctly on first load.
  * Fix WeChat Hotspot support.
  * UDM - Fix bug in Honeypot which would cause devices to inform to Honeypot IP instead of system IP.
  * UDM - Fix firewall rule ordering for in/out/local rules.
  * UDM - Fix VLAN only network provisioning.
  * Various bug fixes and improvements.


===== 5.11.29 =====
===Important notes===
Release stage: Testing

===New Features===
  * WLAN Scheduler Enhancements (New Settings).
  ** The experience here is actually the opposite of the prior implementation (found in classic mode). You're actually scheduling the downtime for the SSID(s) instead of the uptime. You can also schedule multiple blocks per day.

 ===Controller bugfixes/changes since 5.11.26===
  * Add validation for Honeypot IP on UDM.
  * Do not show upgrade button for devices with Managed by Other status.
  * Enable meshing by default on UDM.
  * Fix changing Device Fingerprint icon via Cloud Access.
  * Fix displayed historical plans in Radio AI.
  * Fix displayed WAN IP when using PPPoE on UDM.
  * Fix empty tooltips in Client Statistics graphs.
  * Fix error which may occur when saving Device Fingerprint image (reported HERE).
  * Fix incorrect value range in client WiFi TX attempts graph.
  * Fix LCM brightness - set default value.
  * Fix missing disconnected device name in general satisfaction tooltip.
  * Fix NPE when adding custom DHCP options to new network.
  * Fix reported status for U-LTE.
  * Fix WeChat Hotspot Authentication.
  * Fix various bugs in firewall provisioning on UDM. 
  * Improve client counters for UDM.
  * Only enable High Performance Devices when SSID is enabled on 2.4GHz and 5GHz radios (also part of Auto-Optimize Network).
  * Only report WAN IP of UDM in Cloud Access portal.
  * Show latest IP for clients with multiple IPs on UDM.
  * Various bug fixes and improvements.




===== 5.11.26 =====
===Important notes===
Release stage: Unstable

===New Features===
  * Add device fingerprint customization.
  * Add experience graphs to property panels.
  * Add experience panel headers.
  * Add LED and LCM brightness and sync control settings for compatible UniFi Switch devices.
  * Add option to define power source for USW-Flex.
  * Add new setup wizard.
  * Add per-device LED LCM override settings for compatible UniFi Switch devices.
  * Add Radio AI to New Settings.
  * Add start and stop range for IPv6 PD.
  * Add U-LTE support.

 

===Controller bugfixes/changes since 5.11.18===
  * Add description to DPI blocking rules associated with WLANs.
  * Add missing translations.
  * Add 'unifi' FQDN CNAMEs for every local network's domain_name.
  * Adjust experience graph on UDM.
  * Allow automatic upgrades to run with non-cached firmware (between 01:00-03:59 local time only).
  * Allow SSH username to contain uppercase characters or be an email address.
  * Fix active wireless users filter group counters.
  * Fix color on empty Client Frequency Distribution module graph.
  * Fix console error in Topology view when no client ESSID is available.
  * Fix device properties alerts not showing for UDM.
  * Fix device vendor on client list.
  * Fix displayed WiFi packet counts.*
  * Fix error messages in console.
  * Fix error when trying to run scan via Auto Channels on Map.
  * Fix incorrect device properties client list counters.
  * Fix incorrect font colors in new RADIUS profile modal.
  * Fix missing device ID parameter. 
  * Fix missing Rolling Upgrade button.
  * Fix NPE when using Download device info function.
  * Fix timeout issue when provisioning 200+ VLANs.
  * Fix traffic counting on WAN ports.
  * Fix wired experience undefined uplink issue.
  * Improve handling of no PoE ports in Port Usage widget.
  * Link to port profiles in the New Settings.
  * Make time range filter using presets correctly.
  * Prevent Auto-Optimize Network from enabling High Performance Devices on APs that are 2.4GHz only.
  * Prevent empty ESSID in new wireless network.
  * Remove WINS server configuration on UDM.
  * Set default at UPnP form.
  * Set no-dns in the DHCPv6-PD node where static DNS servers are defined.
  * Several improvements to site switch.
  * Various bug fixes and improvements.

*Requires UAPs to be on firmware 4.0.31 or later.


===== 5.11.18 =====
===Important notes===
Release stage: Unstable

===New Features===
  * Add Japanese language.
  * Add per-port STP toggle with port profile support.
  * Add release channel selection for controller and firmware updates.

===Controller bugfixes/changes since 5.11.10===
  * Add IPS ToS link.
  * Add speedtest provider name and server location to speedtest dialog.
  * Adjust timezone in IPS threat details.
  * Allow DPI apps restrictions on UDM.
  * Fix AP Statistics tool-tip on dashboard so it refreshes correctly.
  * Fix Auto-VPN status in VPN dashboard widget.
  * Fix broken DPI details for user.
  * Fix downloading backup files in new Settings.
  * Fix exception in client radio filter.
  * Fix incorrect label attributes in hotspot payments HTML.
  * Fix IPv6 encapsulation sizing.
  * Fix odd line breaks in general satisfaction tool-tip and some toast messages.
  * Fix restore from a backup file.
  * Fix provisioning for multiple guest networks with portal in a WLAN group. 
  * Fix various bugs with guest portal pre-authorization.
  * Hotspot payment package visual improvements.
  * Increase space between ARP cache timeout and options.
  * Mark retry rate with low packet count as green on AP Statistics chart.
  * New Settings improvements.
  * Preserve time range in various places.
  * Prevent disappearing graphs on granularity change in Stats/Overview.
  * Prevent unnecessary network form divergence alert.
  * Refresh DPI data on DPI drill down back action.
  * Security improvement.*
  * Show action buttons for writable role on guest list.
  * Show message when speed caps are not met.
  * Show Wi-Fi name on confirmation screen in wizard.
  * Show remote port number for USW uplink on Devices page (reported HERE).
  * Tweak IPv6 CIDR validation.
  * Update remove Cloud Access confirmation message.
  * Various bug fixes and improvements.

*An advisory (and CVE) will be made available in our Security Updates blog in the near future.

===== 5.11.10 =====
===Important notes===
Release stage: Unstable

===New Features===
  * Add site-to-site data to VPN widget.
  * Add Switch Experience and merge with WiFi Experience.

===Controller bugfixes/changes since 5.11.5===
  * Add DPI fingerprinting toggle (UDM only).
  * Add dark background for config changed notification.
  * Add subnet for IPv6 networks in Networks Table.
  * Add wrapping to forget device form.
  * Add split SSID function (Combine Name/SSID).
  * Allow only "guest" and "corporate" networks in dpi restriction assignment.
  * Fix date range selector.
  * Fix pagination of backup list.
  * Fix the USG port form button wrapping.
  * Improve performance of plots on dashboard.
  * Parameterize top 10 devices returned by stats endpoint.
  * Preserve time range in statistics/performance on device change.
  * Remove remote syslog IP requirement when logging to controller.
  * Remove the sub nav from the new settings nav item.
  * Restore missing user count plot in AP Property Panel/stats.
  * Restore radio typed satisfaction plot in Stats/Performance view.
  * Show AP/port based on wired/wireless filter.
  * Show UDM LAN IP.
  * UDM - fix port forwarding NAT rules.
  * UDM - fix reported speed capabilities.
  * UDM - hide uplinks accordion.
  * UDM - provision appropriate MSS clamping configuration.
  * UDM - redirect to ULP setup wizard when in factory default state.
  * UDM - restore backup from UDM only.
  * Update virtual devices list.
  * Various bug fixes and improvements.




===== 5.11.5 =====

===Important notes===
Release stage: Unstable

===New Features===
  * New Settings.
  * Backup to Cloud.

===Controller bugfixes/changes since 5.10.20===
  * Allow browser to determine dark mode.
  * Allow shift click to select multiple devices and clients.
  * Add status text to a busy device in the device grid.
  * Add dot1x multi-host option.
  * Add space for active users column.
  * Add ARP cache timeout configuration (under advanced in gateway property panel).
  * Clarify the warning for the clients historical data.
  * Hide the sticky dashboard modules on small resolutions.
  * Separate multiple radios in WiFi satisfaction tooltip.
  * Support dark mode in topology.
  * Remove beta tag from "Allow meshing to another access point" at property panel.
  * Fix an issue that could prevent database migration from succeeding when upgrading from a previous version.
  * Fix broken change password modal.
  * Fix case when confirm modal reacts to previously entered Enter key as confirmation.
  * Fix checkboxes & radio buttons in Firefox.
  * Fix confirm modal reacts to previously entered Enter key as confirmation.
  * Fix empty tooltip when password strength is good or great.
  * Fix incorrectly rendered symbols in toasts.
  * Fix overlapping elements in Edit group restrictions layout.
  * Fix Password show (eye icon) overlaps long passwords.
  * Fix signal sorting at clients list, when RSSI is equal then sort by a signal.
  * Fix Site Migration modal.
  * Fix sorting Client list by device type.
  * Fix switch statistics - refresh data correctly when changing device.
  * Fix traffic stats header wrapping in Firefox.
  * Fix the DPI chart legend alignment.
  * Fix various bugs with guest portal pre-authorization.
  * Shift time series graphs.
  * Show WiFi experience in the client property panel to read-only users.
  * Show correct number of clients at dashboard.
  * Show subnet in subnet column, instead of gateway IP.
  * Performance improvements.
  * Filter all WiFi Metrics widgets by selected APs.
  * In-Wall Networks/VLANs pre-population.
  * Prevent reflow on AP Retry Rate scatterplot when tooltip is shown.
  * Show only APs in poor Wi-Fi element list in Dashboard status tooltip.
  * Differentiate wired and wireless clients count on UDM.
  * Hide wifi satisfaction for wired client stats.

